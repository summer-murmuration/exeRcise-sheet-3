---
title: "Exercise #3"
subtitle: "Fortgeschrittene Statistische Software f√ºr NF"
author: "Elisabeth Winternitz (12641423)"
date: "`r Sys.Date()`"
output: distill::distill_article
---

## Exercise 1: Initializing git (4 Points)

### a)
Completed.

### b)
Completed.

### c)
Noted. Will commit the file after completion of each subtask.

### d)
2 strengths:
- The history makes it easy to understand changes or revert them if there are problems.
- Git is great for collaboration.

2 weaknesses:
- Git has a rather steep learning curve.
- Git is not great for storing data/ with large files.

### e)
Knitted. 

## Exercise 2: Putting your Repository on GitHub (3 Points)

For this task you will upload your solution to GitHub.

### a)
Link to the repository: https://github.com/summer-murmuration/exeRcise-sheet-3

### b)
Code pushed (through terminal).


### c)
Noted. I will regularly push the latest changes to GitHub, especially after finished with the sheet.

## Exercise 3: Pixar Films (4 Points)

### a)

```{r}
library(tidyverse)
#load dataset into R
pixar_films <- read_csv("data/pixar_films.csv")

#clean dataset by removing films w/o a title
library(dplyr)
pixar_films <- pixar_films%>% 
  filter(!is.na(film))

#Inspect variable film_rating
unique(pixar_films$film_rating)
```
*film_rating*: the variable film_rating has, in this dataset, two values: G and PG (three films have N/A values for this variable). This refers to the Motion Picture Association film rating system. G means the film is rated for general audiences, and all ages are admitted. PG means that parental guidance is suggested, as some material may not be suitable for children.

```{r}
#Create a factor variable for the film rating:
pixar_films$film_rating_asfactor <- factor(pixar_films$film_rating,
                                         levels = c("G", "PG"),
                                         ordered = TRUE)

```
*Why is this appropriate?* 
The film rating system has a logical order, which means that "ordering" the variable (PG is more restricted than G) as a factor variable is useful for working further with this dataset. 

### b)
*Which films form a film series?*
- Toy Story (original, 2, 3, and 4)
- Monsters, Inc and Monsters University
- Finding Nemo and Finding Dory
- Cars (original, 2, and 3)
- The Incredibles (original and 2)

```{r}
#Create a data frame which displays a list of the different series with the titles of the films and how many films belong to the series.

#Manually defining the film series:
list_of_series <- list(
  "Toy Story" = c("Toy Story", "Toy Story 2", "Toy Story 3", "Toy Story 4", "Lightyear"),
  "Cars" = c("Cars", "Cars 2", "Cars 3"),
  "Finding Nemo" = c("Finding Nemo", "Finding Dory"),
  "The Incredibles" = c("The Incredibles", "Incredibles 2"),
  "Monsters" = c("Monsters, Inc.", "Monsters University")
)

#Convert to a dataframe
library(dplyr)

pixar_series_df <- bind_rows(
  lapply(names(list_of_series), function(series_name) {
    films <- list_of_series[[series_name]]
    data.frame(
      series = series_name,
      film = films,
      n_films_in_series = length(films),
      stringsAsFactors = FALSE
    )
  })
)

#Output the dataframe

print(pixar_series_df, n=10)
```


### c)  
```{r}
#Load 'public_response' into R:
library(tidyverse)
public_response <- read_csv("data/public_response.csv")

#Convert 'cinema_score' into a factor while ensuring the factor levels are defined in ascending order from lowest to highest:
#What scores are represented in our dataset?
unique(public_response$cinema_score)
#Only 3: A+, A, and A-

score_levels <- c("A-", "A", "A+")

public_response$cinema_score <- factor(public_response$cinema_score,
                                       levels = score_levels,
                                       ordered = TRUE)

#Combine 'public_response' with 'pixar_films' dataset using merge variable (film title)
combined_films_response_df <- merge(pixar_films, public_response, by = "film", all.x = TRUE)

#all.x = TRUE ensures that "Lightyear" and "Turning Red" aren't left out of the merged dataset.

```


d)  Choose one of the variables representing the public response and
    create a bar plot for the films belonging to a series. Here are the
    details of the plot:

    -   The film series are represented on the x-axis.
    -   Your chosen public response variable is displayed on the y-axis.
    -   Each film in the series is represented as a separate bar. Bars
        are grouped by film under their respective series on the x-axis.
        Order the bars within a series according to the release date of
        the films.
    -   A title and axis labels for context.

    What do you notice when comparing the scores of the films in a
    series? Do you see any patterns?

## Exercise 4: Open Analysis (4 points)

This exercise is a bit more open-ended. You can choose any dataset from
[Our World in Data](https://ourworldindata.org/) and analyze it, while
determining the research question yourself.

a)  Go to <https://github.com/owid/owid-datasets/tree/master/datasets>
    and choose a dataset that interests you. You can have a look at
    <https://ourworldindata.org/> to gather some inspiration.
b)  Download the dataset and track it in git.
c)  Put the name / title of the dataset and a link to it below.

-   Dataset Name: ...
-   Link: <https://github.com/owid/owid-datasets/>...

d)  Come up with a (research) question you want to answer with the data
    and briefly explain why you believe this is an interesting question
    within one sentence. It should be a question that can be answered
    with the dataset and using R.
e)  Use R to answer your chosen question. Please limit your analysis to
    the functions and techniques we have covered so far in the course.
    You are **not expected** to use advanced statistical models or
    external packages which haven't been introduced.
f)  Create a meaningful plot / figure with the dataset. Make sure to
    provide a figure caption (via the chunk options / Rmarkdown) and
    correctly label the figure.

## Final Note

Make sure to push all your commits and changes to GitHub before
submitting the exercise sheet.
